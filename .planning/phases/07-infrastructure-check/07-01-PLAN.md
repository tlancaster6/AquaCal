---
phase: 07-infrastructure-check
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User knows whether Read the Docs is deployed and serving docs"
    - "User knows whether Zenodo DOI badge is live and resolves correctly"
    - "User knows whether RELEASE_TOKEN secret is configured in GitHub"
    - "User has a clear action list of remaining infrastructure work for Phase 13"
  artifacts:
    - path: ".planning/phases/07-infrastructure-check/07-01-SUMMARY.md"
      provides: "Infrastructure status report with findings and action items"
  key_links: []
---

<objective>
Audit the three pending infrastructure todos (Read the Docs, Zenodo DOI, RELEASE_TOKEN) and report their current status to the user.

Purpose: Phase 7 exists to determine what infrastructure work remains before Phase 13. This is a diagnostic phase — no code changes, just investigation and reporting.
Output: Status report with clear findings and action list for Phase 13.
</objective>

<execution_context>
@C:/Users/tucke/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/tucke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit infrastructure status</name>
  <files></files>
  <action>
Investigate the current status of all three infrastructure items. No files are modified — this is read-only investigation.

**1. Read the Docs deployment:**
- Confirm `.readthedocs.yaml` exists and is properly configured (it does — already verified during planning)
- Use `curl -s -o /dev/null -w "%{http_code}" https://aquacal.readthedocs.io/en/latest/` to check if RTD is live and returning 200
- If live, check a few pages (overview, API reference) to confirm content is current
- If not live (404/error), note that RTD project needs to be connected via the RTD dashboard

**2. Zenodo DOI badge:**
- Read README.md line 5 — the badge currently points to `https://doi.org/10.5281/zenodo.18644658`
- Use `curl -s -o /dev/null -w "%{http_code}" https://doi.org/10.5281/zenodo.18644658` to check if the DOI resolves
- Use `curl -s -o /dev/null -w "%{http_code}" https://zenodo.org/badge/DOI/10.5281/zenodo.18644658.svg` to check if the badge image loads
- If both resolve, the DOI is live and this todo is done
- If either fails, note what needs to happen (Zenodo webhook setup, badge URL update, etc.)

**3. RELEASE_TOKEN PAT:**
- Use `gh secret list --repo tlancaster6/AquaCal` to check if RELEASE_TOKEN is configured as a repository secret
- If the `gh` command fails due to auth, note that and check the workflow file instead: `.github/workflows/release.yml` uses `secrets.RELEASE_TOKEN`
- Check recent GitHub Actions runs with `gh run list --repo tlancaster6/AquaCal --workflow release.yml --limit 5` to see if the release workflow has run successfully (success = token likely works)
- If no runs or all failed, the token likely needs configuration

**Compile findings** into a structured report with three sections (one per item), each with: status (done/needs-work/unknown), evidence, and action items for Phase 13.
  </action>
  <verify>All three items investigated with concrete evidence (HTTP status codes, gh output, file contents). No items left as "unknown" unless genuinely inaccessible.</verify>
  <done>Structured findings exist for all three infrastructure items with status and evidence.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: User confirms infrastructure status findings</name>
  <files></files>
  <action>Present findings to user for confirmation.</action>
  <verify>User has reviewed and confirmed or corrected the findings.</verify>
  <done>User confirms the infrastructure status report is accurate and knows what Phase 13 needs to address.</done>
  <what-built>Infrastructure status audit of three pending todos: Read the Docs deployment, Zenodo DOI badge, and RELEASE_TOKEN PAT configuration. Claude gathered evidence from HTTP checks, GitHub CLI, and repo file inspection.</what-built>
  <how-to-verify>
    1. Review the findings for each infrastructure item
    2. Confirm whether the reported statuses match your knowledge (especially for items requiring dashboard access like RTD admin or GitHub secrets)
    3. For any item Claude could not verify (e.g., gh auth issues), provide the actual status
    4. Confirm or adjust the action list for Phase 13

    Key questions to answer:
    - Is Read the Docs connected and building? (Check https://readthedocs.org/projects/aquacal/)
    - Is the Zenodo DOI badge working in the live README on GitHub?
    - Have you created the RELEASE_TOKEN PAT in GitHub repo settings?
  </how-to-verify>
  <resume-signal>Confirm findings and provide any corrections. Type "approved" if the status report is accurate, or describe corrections needed.</resume-signal>
</task>

</tasks>

<verification>
- All three infrastructure items have a clear status determination
- Evidence is concrete (HTTP codes, CLI output, file contents) not speculative
- Action list for Phase 13 is specific and actionable
</verification>

<success_criteria>
- User confirms they know the current status of all three infrastructure items
- User has a clear, prioritized action list of what Phase 13 needs to address
- No infrastructure item is left in an ambiguous state
</success_criteria>

<output>
After completion, create `.planning/phases/07-infrastructure-check/07-01-SUMMARY.md`
</output>
