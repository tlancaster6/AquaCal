---
phase: 06-interactive-tutorials
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/conf.py
  - docs/index.md
  - docs/tutorials/index.md
  - docs/_static/hero_ray_trace.png
  - README.md
  - pyproject.toml
autonomous: true

must_haves:
  truths:
    - "nbsphinx is configured in Sphinx and notebooks in docs/tutorials/ render as HTML pages"
    - "Tutorials section appears in docs sidebar alongside Theory and API Reference"
    - "README is concise (~50-80 lines) with hero visual, badges, 3-step quick start, and links to docs"
    - "Hero visual is a ray trace diagram that communicates refractive calibration at a glance"
    - "Bulk content removed from README is accessible via docs site links"
  artifacts:
    - path: "docs/conf.py"
      provides: "nbsphinx extension configuration"
      contains: "nbsphinx"
    - path: "docs/_static/hero_ray_trace.png"
      provides: "Hero ray trace visualization for README"
    - path: "README.md"
      provides: "Concise README with hero visual and docs links"
    - path: "docs/tutorials/index.md"
      provides: "Tutorial landing page with toctree for notebooks"
  key_links:
    - from: "docs/conf.py"
      to: "docs/tutorials/*.ipynb"
      via: "nbsphinx extension renders notebooks"
      pattern: "nbsphinx"
    - from: "README.md"
      to: "docs site"
      via: "markdown links to documentation pages"
      pattern: "https://aquacal.readthedocs.io"
---

<objective>
Set up nbsphinx infrastructure for notebook rendering, generate the README hero visual from the existing ray trace diagram code, and overhaul the README to be concise with visual assets and docs links.

Purpose: Prepare the documentation infrastructure for notebook tutorials (Plan 03-04) and make the README immediately compelling for researchers discovering the project.
Output: Updated Sphinx config, hero visual PNG, concise README, tutorial index page.
</objective>

<execution_context>
@C:/Users/tucke/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/tucke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@docs/conf.py
@docs/index.md
@docs/tutorials/index.md
@docs/guide/_diagrams/ray_trace.py
@README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure nbsphinx and generate hero visual</name>
  <files>
    docs/conf.py
    pyproject.toml
    docs/_static/hero_ray_trace.png
  </files>
  <action>
    1. Add `nbsphinx>=0.9.8` to pyproject.toml `[project.optional-dependencies] docs` section.

    2. Update `docs/conf.py`:
       - Add `"nbsphinx"` to extensions list
       - Add nbsphinx configuration:
         ```python
         nbsphinx_execute = "never"  # Use committed outputs, don't re-execute
         nbsphinx_allow_errors = False
         nbsphinx_requirejs_path = ""  # Avoid RequireJS conflicts
         ```
       - Add `"_build"` and `"**.ipynb_checkpoints"` to exclude_patterns if not already there

    3. Generate hero visual for README:
       - Run the existing `docs/guide/_diagrams/ray_trace.py` generate function to produce `docs/_static/hero_ray_trace.png`
       - Alternatively, create a small script that imports the generate function and saves to `docs/_static/hero_ray_trace.png` at 100 DPI (targeting ~1000x600px for mobile-friendly README display)
       - If the existing diagram is already built during Sphinx builds, just copy/adapt the output

    4. Verify Sphinx builds cleanly: `cd docs && python -m sphinx -b html . _build/html -W` (warnings as errors)
  </action>
  <verify>
    ```bash
    cd docs && python -m sphinx -b html . _build/html 2>&1 | tail -5
    ls docs/_static/hero_ray_trace.png
    ```
    Sphinx build succeeds. Hero image exists.
  </verify>
  <done>nbsphinx configured in Sphinx with "never" execution mode. Hero visual PNG generated at docs/_static/hero_ray_trace.png.</done>
</task>

<task type="auto">
  <name>Task 2: Overhaul README and update tutorial index</name>
  <files>
    README.md
    docs/tutorials/index.md
    docs/index.md
  </files>
  <action>
    1. Rewrite README.md to be concise (~50-80 lines). Structure per user decisions:
       - Hero visual: `![AquaCal ray trace](docs/_static/hero_ray_trace.png)` at top (Snell's law refraction diagram)
       - Badge row (keep existing badges)
       - One-paragraph description (2-3 sentences max)
       - Short feature list: 4-5 bullets covering key capabilities
       - Installation: just `pip install aquacal` (dev install in docs)
       - Quick Start: 3-step minimal:
         1. `pip install aquacal`
         2. `aquacal init --intrinsic-dir ... --extrinsic-dir ...`
         3. `aquacal calibrate config.yaml`
       - Documentation links section: links to docs for CLI reference, config reference, methodology, API, tutorials
       - Citation: one-liner with link to CITATION.cff and docs for full BibTeX
       - License: one-liner

       Content to REMOVE from README (now lives in docs):
       - CLI Reference section (detailed commands, arguments, options)
       - Configuration File Reference section (full YAML example)
       - Technical Methodology section (problem setting, refractive model, stages, scalability, validation)
       - Output section (calibration.json details)
       - Using Results in Python section (detailed code examples)
       - The verbose Python API quick start (keep minimal version)

    2. Update `docs/tutorials/index.md`:
       - Replace "coming soon" placeholder with proper landing page
       - Add descriptive text about what each tutorial covers
       - Add toctree that will pick up .ipynb files (to be added in Plans 03-04):
         ```
         :::{toctree}
         :maxdepth: 1

         01_full_pipeline
         02_diagnostics
         03_synthetic_validation
         :::
         ```
       - Note: the toctree entries won't resolve until notebooks are created in Plans 03-04, so use `:hidden:` or add a note

    3. Update `docs/index.md`:
       - Change tutorials card text from "coming soon" to actual description
       - Keep the grid layout and card structure
  </action>
  <verify>
    ```bash
    wc -l README.md  # Should be ~50-80 lines
    grep -c "readthedocs" README.md  # Should have docs links
    grep "hero_ray_trace" README.md  # Should reference hero image
    ```
    README is concise with hero visual and docs links. Tutorial index updated.
  </verify>
  <done>README is ~50-80 lines with hero visual, badges, 3-step quick start, 4-5 feature bullets, and links to docs for detailed content. Tutorial index page ready for notebooks. Docs index card updated.</done>
</task>

</tasks>

<verification>
```bash
# README length check
wc -l README.md

# Sphinx build (may warn about missing notebooks -- that's OK for now)
cd docs && python -m sphinx -b html . _build/html 2>&1 | grep -E "error|warning" | head -10

# Hero image exists
ls -la docs/_static/hero_ray_trace.png

# README has docs links
grep "readthedocs" README.md
```
</verification>

<success_criteria>
- nbsphinx configured with execution disabled
- Hero ray trace PNG exists in docs/_static/
- README is concise (~50-80 lines) with hero visual, badges, quick start, and documentation links
- Bulk content (CLI reference, config reference, methodology) removed from README
- Tutorial index page has toctree ready for notebook entries
- Sphinx builds without errors (warnings about missing notebooks acceptable until Plans 03-04)
</success_criteria>

<output>
After completion, create `.planning/phases/06-interactive-tutorials/06-02-SUMMARY.md`
</output>
