---
phase: 13-setup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - docs/index.md
  - docs/overview.md
  - CHANGELOG.md
autonomous: true

must_haves:
  truths:
    - "README install section documents PyTorch as a prerequisite before pip install aquacal"
    - "Sphinx docs landing page documents the PyTorch prerequisite install step"
    - "CHANGELOG has an entry noting the new torch/aquakit dependency"
  artifacts:
    - path: "README.md"
      provides: "Updated install instructions with torch prerequisite"
      contains: "pip install torch"
    - path: "docs/index.md"
      provides: "Sphinx landing page with torch prerequisite"
      contains: "pip install torch"
    - path: "CHANGELOG.md"
      provides: "v1.5 changelog entry for aquakit dependency"
      contains: "aquakit"
  key_links:
    - from: "README.md"
      to: "https://pytorch.org/get-started/"
      via: "hyperlink in install section"
      pattern: "pytorch.org/get-started"
---

<objective>
Document the PyTorch prerequisite in all user-facing entry points: README, Sphinx docs, and CHANGELOG.

Purpose: Users discover the torch requirement immediately in every place they look for install instructions, not after a cryptic import failure.
Output: Updated README.md, docs/index.md, docs/overview.md, and CHANGELOG.md.
</objective>

<execution_context>
@C:/Users/tucke/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/tucke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@README.md
@docs/index.md
@docs/overview.md
@CHANGELOG.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update README and Sphinx docs with PyTorch prerequisite</name>
  <files>README.md, docs/index.md</files>
  <action>
1. **README.md** — Rewrite the "Installation" and "Quick Start" sections. The torch requirement must be the FIRST thing in the install section (per user decision). Structure:

```markdown
## Installation

AquaCal requires [PyTorch](https://pytorch.org/get-started/) as a prerequisite. Install it first:

```bash
pip install torch
```

Then install AquaCal:

```bash
pip install aquacal
```

> **Note:** For GPU-accelerated PyTorch variants, see the [official install guide](https://pytorch.org/get-started/).

## Quick Start

1. Install [PyTorch](https://pytorch.org/get-started/) and AquaCal:
   ```bash
   pip install torch
   pip install aquacal
   ```

2. Generate a configuration file from your calibration videos:
   ... (keep existing steps 2 and 3 unchanged)
```

Keep the rest of the Quick Start content (steps 2-3 and the results sentence) exactly as-is.

2. **docs/index.md** — Add a "Getting Started" admonition or note block ABOVE the "Quick Start" code example (before the ```` ```python ```` block). Use MyST syntax:

```markdown
:::{important}
AquaCal requires [PyTorch](https://pytorch.org/get-started/) as a prerequisite. Install it before installing AquaCal:

```bash
pip install torch
pip install aquacal
```

For GPU-accelerated variants, see the [official PyTorch install guide](https://pytorch.org/get-started/).
:::
```
  </action>
  <verify>Read back both files and confirm the torch prerequisite appears prominently in install sections.</verify>
  <done>README.md and docs/index.md both document PyTorch as a prerequisite, with torch install as the first step before pip install aquacal.</done>
</task>

<task type="auto">
  <name>Task 2: Add CHANGELOG entry for v1.5 aquakit dependency</name>
  <files>CHANGELOG.md</files>
  <action>
Add a new unreleased section at the top of CHANGELOG.md (after the `<!-- version list -->` comment, before the v1.4.1 entry):

```markdown
## Unreleased

### Features

- **deps**: Add AquaKit as a dependency for shared refractive geometry and I/O utilities
- **deps**: Add import-time PyTorch check with actionable error message
```

Use the existing CHANGELOG formatting style (## for version headers, ### for categories, - ** prefix for entries).
  </action>
  <verify>Read CHANGELOG.md and confirm the unreleased section appears at the top with the aquakit/torch entries.</verify>
  <done>CHANGELOG.md has an unreleased section noting the new aquakit dependency and torch prerequisite.</done>
</task>

</tasks>

<verification>
1. README.md install section starts with PyTorch prerequisite
2. docs/index.md has a prominent note about PyTorch before the Quick Start code
3. CHANGELOG.md has unreleased entry for aquakit dependency
</verification>

<success_criteria>
- All three user-facing entry points (README, Sphinx docs, import error) document the PyTorch prerequisite
- CHANGELOG entry exists for the new dependency
</success_criteria>

<output>
After completion, create `.planning/phases/13-setup/13-02-SUMMARY.md`
</output>
